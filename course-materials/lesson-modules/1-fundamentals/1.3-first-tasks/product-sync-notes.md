プロダクト定例 - 月曜 10月7日, 2:30pm

出席者: Sarah, Mike (CTO), Jordan, Alex (モバイルPM), Jamie (エンジニアリングリード), 自分

=== 通知に関する議論 ===

自分が通知再設計の提案をプレゼン

現状はひどい:
- 先四半期の通知関連チケット127件
- ユーザーは1日50件以上の通知を受け取るか、全部オフにしている
- 42種類の通知タイプ（多すぎ！）
- オン/オフの設定しかない（細かさが足りない）
- 同期配信 = 遅いAPI（レイテンシ200-400ms - Mikeの発言）
- エンタープライズ顧客が営業コールで不満を漏らしている

自分の提案:
3段階 - urgent/important/fyi
- urgent = 即時（アサイン、@メンション、期限）
- important = ダイジェスト対象（コメント、ステータス変更）
- fyi = オプトインのみ（いいね、ウォッチャー、一般的なアクティビティ）

スマートバッチング - 関連する通知をグループ化
例: 同じタスクへの5件のコメント = 5件ではなく1件の通知

ダイジェストモード - 1日1回または2回
urgentは即時のまま

タイムゾーン対応 - 勤務時間を尊重（ユーザーのタイムゾーンで9-6）
勤務時間外のものはキューに入れ、後で配信

より良いコンテンツ - タスクタイトル + プレビュー、誰がやったか、アクションボタンを表示

MIKEの技術メモ:
「非同期キューが必要、同期が我々を殺している」
- Redisに移行（既に使っている）
- 通知ワーカーがキューを処理
- 実装に3〜4週間

DB変更が必要:
「user_preferencesテーブルが42個のbooleanカラム、スケールしない」
代わりにjsonbカラムを希望
スキーマ例を見せた（urgent/important/fyiにチャネル、ダイジェスト設定、静寂時間）

マイグレーション = 2週間、一気に切り替え不可、段階的ロールアウトが必要
既存ユーザーはデフォルトで「全て = important」

「非同期にすればパフォーマンスが改善する、通知はAPIで最も遅い処理」

チームからの懸念:

Jordan: UIが複雑になる
- 3段階、チャネル、ダイジェスト、静寂時間 = 設定項目が多い
- プログレッシブディスクロージャーが必要（シンプル + 高度モード）
- 「慎重にデザインしないとユーザーが混乱する」

Sarah: ユーザーに変更をどう伝える？
- アナウンスが必要
- 移行ガイド
- アプリ内メッセージ？
タイムラインの懸念もあり - 最低6週間（エンジニアリング + デザイン + テスト）
「Q1のモバイルアプリローンチと競合する」

Alex: モバイルはメールとは違う
- プッシュ通知には文字数制限がある
- iOS/Androidで扱いが異なる
- モバイル専用のデザインが必要

Jamie: Redisがダウンしたら？
- 通知が消える？
- 耐久性のあるキュー（SQS？）またはパーシステンスが必要
Mike: 「Redis AOFを使うかSQSに移行できる、仕様を書く」

自分: 後方互換性は？レガシーモード？
Sarah: 「ダメ、2つのシステムを維持するのは複雑すぎる」

未解決の質問:
1. urgent vs important vs fyiをどう判定？ユーザー設定可能？
2. Slack通知 - メールルールに従う？常にurgent？
3. 設定はグローバル？プロジェクトごと？両方？
4. A/Bテストのアプローチ？最初に10%ロールアウト？
5. 問題が起きた場合のロールバック計画？

決定事項:
✓ 3段階システムで進める（全員一致）
✓ 非同期キュー（MikeがRedis vs SQSの仕様を作成）
⏸ タイムラインQ1かQ2か？Sarahが詳細計画を求め、今週末までに決定
⏸ プロジェクトごとの設定 = v2、まずグローバルから
⏸ A/Bテストにはデータチームのインプットが必要

アクションアイテム:
- 自分: 包括的PRDを10月11日金曜までに
- Mike: 技術仕様（アーキテクチャ、DBスキーマ、マイグレーション）を10月11日金曜までに
- Jordan: UXフロー + ワイヤーフレームを10月14日月曜までに
- Alex: モバイル考慮事項ドキュメントを10月14日月曜までに
- Jamie: エンジニアリング見積もりの内訳を10月15日火曜までに
- 自分: 競合分析（Asana/Linear/ClickUp）を10月15日火曜までに
- Sarah: 10月16日水曜3pmにフォローアップミーティングをスケジュール

=== Q1の優先順位付け ===

Sarahがこの議論をリード

Q1で競合する5つのイニシアチブ:
1. モバイルアプリ（コミット済み、変更不可）
2. ダークモード（リクエスト多数）
3. 通知の再設計（上記で議論）
4. テンプレートライブラリ（アクティベーション施策）
5. エンタープライズ機能（SSO、権限）

キャパシティ:
エンジニア合計12名
4名がローンチまでモバイル担当
8名がWeb担当可能
2週間スプリント = Q1に6スプリント

見積もり:
モバイル = 4スプリント（進行中）
ダークモード = 2スプリント
通知 = 3スプリント
テンプレート = 3スプリント
エンタープライズ = 4スプリント

計算: 8名のエンジニアで主要プロジェクト約2つ（+ モバイル）が可能

Sarahの基準:
1. OKRへの影響（アクティベーション、リテンション、収益）
2. 顧客からの要望
3. 競合からのプレッシャー
4. チームの士気
5. 技術的な依存関係

議論:

ダークモード:
Mike: 「チームが本当に欲しがっている、士気向上」
Jordan: 「デザインはほぼ完成」
Alex: 「Web + モバイル同時ローンチ？ブランディングの機会」
Sarah: 「Q1候補に感じる」

通知:
自分: 「127件のチケット、本当のペインポイント」
Sarah: 「新規ユーザー/収益をブロックしている？それとも単なる不満？」
自分: 「両方、エンタープライズが営業コールで言及」
Mike: 「技術的負債でもある、APIが遅くなっている」
Sarah: 「Q1でなければ、確実にQ2」

テンプレート:
自分: 「アクティベーションOKRに直接対応」
Jordan: 「ユーザーが空白画面を見つめている、テンプレートで解決」
Jamie: 「3スプリント、バージョニング込みだと4かも」
Sarah: 「アクティベーション45%から60%に？かなりの飛躍」
自分: 「テンプレート単体ではたぶん無理、オンボーディング + テンプレートが必要」
Alex: 「モバイルにもテンプレートが必要、スコープが増える」

エンタープライズ:
Sarah: 「SSO/権限がないと案件を失っている」
Mike: 「エンタープライズ平均$15K vs SMB $5K、3倍！」
自分: 「でもセールスサイクルが遅い、Q1の収益には影響しない」
Sarah: 「Q2/Q3に向けたパイプライン構築」

SARAHのたたき台:
Q1: モバイル + ダークモード + テンプレート
Q2: 通知 + エンタープライズ

根拠: ダークモードは短期間/目に見える/チームが望んでいる、テンプレート = OKR

反論:

Mike: 「通知を直さないと技術的負債が心配」
「少なくともQ1で非同期キューだけでもやれないか？フル再設計でなくても」
Sarah: 「分割する？インフラQ1、UX Q2？」
Mike: 「それでいい、パフォーマンス改善 + Q2の準備になる」

Jamie: 「モバイルにも必要なら、テンプレートは3〜4スプリント」
Alex: 「モバイルはQ1後半にローンチ、Web Q1、モバイル Q2でいける？」
Sarah: 「いけるね、まずWebから」

修正計画:
Q1:
- モバイル（4スプリント、エンジニア4名）
- ダークモード（2スプリント、エンジニア3名、Web+モバイル）
- テンプレート（3スプリント、エンジニア3名、Webのみ）
- 通知インフラ（1スプリント、エンジニア2名、非同期キューのみ）

Q2:
- 通知UX再設計（2スプリント）
- テンプレートモバイル（1スプリント）
- エンタープライズ機能（4スプリント）

コンセンサス: 実現可能に感じる、Sarahが最終化

=== エンタープライズフィードバック ===

Sarahが最近の営業コール + 顧客インタビューをまとめる

よくあるリクエスト:
- 高度なSSO（SAMLバリエーション、Okta、Azure AD）
- 詳細な監査ログ
- データレジデンシー（EU/USサーバー）
- カスタム契約
- 専任サポート / SLA
- 管理者向けアナリティクス（利用状況追跡）

案件のブロッカー:
- SOC2がない（対応中）
- EUデータセンターがない
- 監査ログがコンプライアンスを満たしていない

パイプライン:
- 12件のエンタープライズ案件（平均$15K）
- 3件がSSOでブロック
- 2件がコンプライアンス/監査でブロック

Sarah: 「エンタープライズはロングゲーム、Q2/Q3に投資してQ3/Q4の収益につなげる」

=== スプリント23 プレビュー ===

Jamieがプレゼン

スプリント開始: 10月14日月曜

計画:
- モバイル: 仕上げ + バグ修正（ローンチ間近！）
- ダークモード: カラーシステムのリファクタ（基盤作り）
- オンボーディング: A/Bテスト結果
- パフォーマンス: 検索最適化
- バグ修正: バックログにP0が8件

チームの稼働状況:
Jamieが10月21-25日不在（休暇）
モバイルはフルキャパシティ
Webは2スプリント分のキャパシティ

目標: 「Q1の優先事項の基盤を準備する」

=== パーキングロット ===

- API v2の計画（Sarahがスケジュール）
- マーケティングがダークモードのローンチキャンペーンをやりたい（Q1まで保留）
- GitHub連携の問題がエスカレーション（Alexが調査中）
- 競合「Motion」がAI機能をローンチ（確認が必要）

=== 次のミーティング ===

10月9日水曜: デザインレビュー（ダークモードのモックアップ）
10月10日木曜: スプリント23プランニング
10月16日水曜: 通知のGo/No-Go
10月18日金曜: Q1ロードマップ最終化

ミーティング終了 3:32pm
